<html lang="en">
    <head>
        <title>hw8</title>
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script   src="https://code.jquery.com/jquery-2.2.2.js"   integrity="sha256-4/zUCqiq0kqxhZIyp4G0Gk+AOtCJsY1TA00k5ClsZYE="   crossorigin="anonymous"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

        <!-- Optional theme -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
        
        <script   src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"   integrity="sha256-DI6NdAhhFRnO2k51mumYeDShet3I8AKCQf/tf7ARNhI="   crossorigin="anonymous"></script>
        
        <!-- Bootstrap Toggle -->
        <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
        <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
        
        <script src="https://code.highcharts.com/stock/highstock.js"></script>
        <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
        <script src='http://connect.facebook.net/en_US/all.js'></script>
        
        <script>
            	window.fbAsyncInit = function() {
                    FB.init({
                        appId      : '601301716692816',
                        xfbml      : true,
                        version    : 'v2.5'
                    });
                };
                (function(d, s, id){
                    var js, fjs = d.getElementsByTagName(s)[0];
                    if (d.getElementById(id)) {return;}
                    js = d.createElement(s); js.id = id;
                    js.src = "http://connect.facebook.net/en_US/all.js";
                    fjs.parentNode.insertBefore(js, fjs);
                }(document, 'script', 'facebook-jssdk'));
        </script>
        <script>    
            function favList(){
                
                for(var i = 0; i < localStorage.length; i++){
                    var favkey = localStorage.key(i);
                    $.ajax({
                        url: 'http://zonghanchang571-env.us-west-2.elasticbeanstalk.com/?',
                        data: {symbol: favkey},
                        dataType: "json",
                        type: 'GET',

                        success: function(response, status, xhr){
                            
                            item = "";
                            item += "<tr>";
                            item += "<td>" + "<a href=\"javascript:getDetails('" + response["Symbol"] + "')\">" + response["Symbol"] + "</a>" + "</td>";
                            item += "<td>" + response["Name"] + "</td>";
                            item += "<td>" + "$ " + response["LastPrice"] + "</td>";
                            
                            orichange = response["Change"];
                            change = Number(Math.round(response["Change"]+'e2')+'e-2');
                            changepercent = Number(Math.round(response["ChangePercent"]+'e2')+'e-2');
                
                            if(orichange < 0){
                                item += "<td class='red'>" + change + "(" + changepercent + "%)" + "<img src='http://cs-server.usc.edu:45678/hw/hw8/images/down.png'>" + "</td>";
                            }
                            else{
                                item += "<td class='green'>" + change + "(" + changepercent + "%)" + "<img src='http://cs-server.usc.edu:45678/hw/hw8/images/up.png'>" + "</td>";
                            }
                            
                            cap = response["MarketCap"];
                            if(cap / 1000000000 >= 0.005){
                                cap = Number(Math.round(cap / 1000000000+'e2')+'e-2') + " Billion";
                            }
                            else if(cap / 1000000 >= 0.05){
                                cap = Number(Math.round(cap / 1000000+'e2')+'e-2') + " Million";
                            }       
                            item += "<td>" + cap + "</td>";
                            item += "<td><button class='btn btn-default' onclick='removeFavorite(this.id)' id='" + response["Symbol"] + "'><span class='glyphicon glyphicon-trash'></span></button></td>";
                            $("#favoritelist").append(item);
                            
                                                   
                            
                        },
                        error: function (xhr, textStatus, errorThrown) { 
                            alert("error in refresh");
                        }
                });
                }
            }
        </script>
        <style>
            .highcharts-container{width:100% !important; height:100% !important;}
            .pos{
                display: inline-block;
            }
            .ui-helper-hidden-accessible { 
                display:none; 
            }
            .yellow{
                color:rgb(255,253,0);
            }
            .green{
                color: greenyellow;
            }
            .red{
                color: red;
            }
            .icon{
                width: 45px;
                height: 35px;
            }
            .ui-autocomplete {
                position: absolute;
                z-index: 1000;
                cursor: default;
                padding: 0;
                margin-top: 2px;
                list-style: none;
                background-color: #ffffff;
                border: 1px solid #ccc
            }
        </style>
        
        <script type="text/javascript">

    function PlotChart(symbol){
        var params = {
            parameters: JSON.stringify( getInputParams(symbol) )
        }
        
        
        //Make JSON request for timeseries data
        $.ajax({
            beforeSend:function(){
                $("#chartDemoContainer").text("Loading chart...");
            },
            data: params,
            url: "http://dev.markitondemand.com/Api/v2/InteractiveChart/jsonp",
            dataType: "jsonp",
            success: function(json){
                //Catch errors
                if (!json || json.Message){
                    console.error("Error: ", json.Message);
                    return;
                }
                
                render(json,symbol);
            },
            error: function(response,txtStatus){
                console.log(response,txtStatus)
            }
        });
    };

    function getInputParams(symbol){
        return {  
            Normalized: false,
            NumberOfDays: 1905,
            DataPeriod: "Day",
            Elements: [
                {
                    Symbol: symbol,
                    Type: "price",
                    Params: ["ohlc"] 
                },
            ]

        }
    };

    function fixDate(dateIn) {
        var dat = new Date(dateIn);
        return Date.UTC(dat.getFullYear(), dat.getMonth(), dat.getDate());
    };

    function getData(json) {
        var dates = json.Dates || [];
        var elements = json.Elements || [];
        var chartSeries = [];
        if (elements[0]){

            for (var i = 0, datLen = dates.length; i < datLen; i++) {
                var dat = fixDate( dates[i] );
                var pointData = [
                    dat,
                    elements[0].DataSeries['close'].values[i]
                ];
                chartSeries.push( pointData );
            };
        }

        return chartSeries;
    };

    function render(data,symbol) {

        // split the data set into ohlc and volume
        var value = getData(data);
            

        // set the allowed units for data grouping
        var groupingUnits = [[
            'week',                         // unit name
            [1]                             // allowed multiples
        ], [
            'month',
            [1, 2, 3, 4, 6]
        ]];

        // create the chart
        $('#highchart').highcharts('StockChart', {

            rangeSelector: {
                allButtonsEnabled: true,
                buttons: [{
                    type: 'week',
                    count: 1,
                    text: '1w'
                },{
                    type: 'month',
                    count: 1,
                    text: '1m'
                }, {
                    type: 'month',
                    count: 3,
                    text: '3m'
                }, {
                    type: 'month',
                    count: 6,
                    text: '6m'
                }, {
                    type: 'ytd',
                    text: 'YTD'
                }, {
                    type: 'year',
                    count: 1,
                    text: '1y'
                }, {
                    type: 'all',
                    text: 'All'
                }],
                buttonTheme: {
                    width: 20
                },
                selected: 0,
                inputEnabled: false
            },
            
            title: {
                text: symbol + ' Stock Value'
            },

            yAxis: [{
                title: {
                    text: 'Stock Value'
                },
            }],
            tooltip: {
                shared: true,
                useHTML: true,
                
                pointFormat: '<tr><td style="color: {series.color}">{series.name}: </td>' +
                    '<td style="text-align: right">${point.y}</td></tr>',
                
                valueDecimals: 2
            },
            exporting: { 
                enabled: false 
            },
            series: [{
                type: 'area',
                name: symbol,
                data: value,
                dataGrouping: {
                    units: groupingUnits
                },
                tooltip : {
                    valueDecimals : 2
                },
                fillColor : {
                    linearGradient : {
                        x1: 0,
                        y1: 0,
                        x2: 0,
                        y2: 1
                    },
                    stops : [
                        [0, Highcharts.getOptions().colors[0]],
                        [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
                    ]
                }
            },],

        });
    };
</script>
        
        
        <script>   
            var t;
            function timedCount(){
                 refresh();
                 t=setTimeout("timedCount()",5000);
            }
            
            $(function(){
                $('#autorefresh').change(function() {
                    if($(this).prop('checked')){
                        timedCount();
                    }
                    else{
                        clearTimeout(t);
                    }
                })
            })
            
            function refresh(){
                for(var i = 0; i < localStorage.length; i++){
                    var rekey = localStorage.key(i);
                    refreshOne(rekey);
                }
            }
            
            function refreshOne(symbolref){
                $.ajax({
                        url: 'http://zonghanchang571-env.us-west-2.elasticbeanstalk.com/?',
                        data: {symbol: symbolref},
                        dataType: "json",
                        type: 'GET',

                        success: function(response, status, xhr){
                            $("#" + symbolref).parent().prev().prev().prev().html("$" + Number(Math.round(response["LastPrice"]+'e2')+'e-2'));
                            reorichange = response["Change"];
                            rechange = Number(Math.round(response["Change"]+'e2')+'e-2');
                            rechangepercent = Number(Math.round(response["ChangePercent"]+'e2')+'e-2');
                            var t = $("#" + symbolref).parent().prev().prev();

                            var tchange = "";
                            var timg = "";
                            tchange += rechange + "(" + rechangepercent + "%" + ")";
                            if(reorichange > 0){
                                t.attr("class","green");
                                timg += ("<img src='http://cs-server.usc.edu:45678/hw/hw8/images/up.png'>");
                            }
                            else if(reorichange < 0){
                                t.attr("class","red");
                                timg += ("<img src='http://cs-server.usc.edu:45678/hw/hw8/images/down.png'>");
                            }

                            t.html(tchange+timg);      
                            
                        },
                        error: function (xhr, textStatus, errorThrown) { 
                            alert("error in refresh");
                        }
                });
            }
            
            
            function addFavorite(){
                if(typeof(Storage) !== "undefined") {
                    favsymbol = $("#symbolintable").text();
                    console.log(typeof(favsymbol));
                    if(!localStorage.getItem(favsymbol)){
                        $("#favoriteicon").addClass("yellow");
                        var fav = "";
                        fav += "<tr>";
                        fav += "<td><a href=\"javascript:getDetails('" + favsymbol + "')\">" + $("#symbolintable").text() + "</a></td>";
                        fav += "<td>" + $("#name").text() + "</td>";
                        fav += "<td>" + $("#lastprice").text() + "</td>";
                        if($("#change").text() < 0){
                            fav += "<td class='red'>" + $("#change").text() + "<img src='" + $("#change img").attr("src") + "'></td>";
                        }
                        else{
                            fav += "<td class='green'>" + $("#change").text() + "<img src='" + $("#change img").attr("src") + "'></td>";
                        }
                        
                        fav += "<td>" + $("#cap").text() + "</td>";
                        fav += "<td><button class='btn btn-default' onclick='removeFavorite(this.id)' id='" + $("#symbolintable").text() + "'><span class='glyphicon glyphicon-trash'></span></button></td>";
                        fav += "</tr>";
                        $("#favoritelist").append(fav);
                        
                        localStorage.setItem(favsymbol, true);
                    }
                    else{
                        removeFavorite(favsymbol);
                    }
                } else {
                    alert("Sorry! No Web Storage support.");
                }
                
                
            }
            function getNews(query){
                var appid = ':M5fYJivsRO3DSFIHKs2bKa4GZZjXkir4AYRTTQGYPi4';
                var azureKey = btoa(appid);
                $.ajax({
                        url: 'https://api.datamarket.azure.com/Bing/Search/v1/News?Query=%27' + query + '%27&$format=json',
                        dataType: "json",
                        type: 'POST',
                        headers: {
                            'Authorization': 'Basic ' + azureKey
                        },
                        success: function(response, status, xhr){
                            var news = response.d.results;
                            for(var i = 0; i < news.length; i++){
                                var str = "";
                                str += "<div class='well'>"
                                str += "<a href='" + news[i].Url + "' target='_blank'>" + news[i].Title + "</a>";
                                str += "<p>" + news[i].Description + "</p>";
                                str += "<strong>Publisher: " + news[i].Source + "</strong>";
                                str += "<br />"
                                var timestamp = Date.parse(news[i].Date);
                                var timestr = new Date(timestamp);
                                months = ['January','February','March','April','May','June','July','August','September','October','November','December'];
                                var time = "" + timestr.getDate() + " " + months[timestr.getMonth()] + " " + timestr.getFullYear() + " " + timestr.getHours() + ":" +timestr.getMinutes() + ":" + timestr.getSeconds();
                                str += "<strong>Date: " + time + "</strong>";
                                str += "</div>";
                                $("#newsFeeds").append(str);
                            }
                            
                        },
                        error: function (xhr, textStatus, errorThrown) { 
                            alert("error in getting news");
                        }
                    });
            }
            
            
            function shareFB() {
                FB.getLoginStatus(function (response) {
                    if (response.status === 'connected') {
                        console.log('connected');
                        postFB();
                    } else {
                        // the user isn't logged in to Facebook.
                        FB.login(function (response) {
                            if (response.status === 'connected') {
                                postFB();
                            } else {
                                alert('Not Posted');
                            }
                        });
                    }
                });
            }
            
            function postFB() {
                FB.ui({
                    method: 'feed',
                    name: "Current Stock Price of " + $("#name").text() + " is" + $("#lastprice").text(),
                    link: 'http://dev.markitondemand.com/',
                    picture: $("#daychartimg").attr("src"),
                    description: "Stock Information of " + $("#name").text() + "(" + $("#symbolintable").text() + ")",
                    caption:'LAST TRADE PRICE ' + $("#lastprice").text() + ". " + "CHANGE: " + $("#change").text(),
                    display: 'popup'
                }, function (response) {
                    if (response && !response.error_message) {
                        alert('Posted Successfully');
                    } else {
                        alert('Not Posted');
                    }
                });
            }
            
            function getDetails(detailsymbol){
                $.ajax({
                        url: 'http://zonghanchang571-env.us-west-2.elasticbeanstalk.com/?',
                        data: {symbol: detailsymbol},
                        dataType: "json",
                        type: 'GET',

                        success: function(response, status, xhr){
                            $("#carouselnext").removeAttr('disabled');
                            $("#myCarousel").carousel(1);
                            $("#myCarousel").carousel('pause');

                            fillTable(response);
                            getDayChart(response["Symbol"]);
                            getNews(response["Symbol"]);
                            store = response["Symbol"];

                            if(localStorage.getItem(store)){
                                $("#favoriteicon").addClass("yellow");
                            }
                            else{
                                $("#favoriteicon").removeClass("yellow");
                            }
                            PlotChart(response["Symbol"]);
                            
                        },
                        error: function (xhr, textStatus, errorThrown) { 
                            alert("error in quote");
                        }
                    });
            }
            
            function emptyTable(){
                $("#name").empty();
                $("#symbolintable").empty();
                $("#lastprice").empty();
                $("#change").empty();
                $("#time").empty();
                $("#cap").empty();
                $("#volume").empty();
                $("#changeytd").empty();
                $("#high").empty();
                $("#low").empty();
                $("#openprice").empty();
            }
            
            function fillTable(response){
                emptyTable();
                $("#name").append(response["Name"]);
                $("#symbolintable").append(response["Symbol"]);
                $("#lastprice").append("$" + Number(Math.round(response["LastPrice"]+'e2')+'e-2'));
                
                orichange = response["Change"];
                change = Number(Math.round(response["Change"]+'e2')+'e-2');
                changepercent = Number(Math.round(response["ChangePercent"]+'e2')+'e-2');
                $("#change").append(change + "(" + changepercent + "%" + ")");
                if(orichange > 0){
                    $("#change").addClass("green");
                    $("#change").append("<img src='http://cs-server.usc.edu:45678/hw/hw8/images/up.png'>");
                }
                else if(orichange < 0){
                    $("#change").addClass("red");
                    $("#change").append("<img src='http://cs-server.usc.edu:45678/hw/hw8/images/down.png'>");
                }
                
                
                var timestamp = Date.parse(response["Timestamp"]);
                var timestr = new Date(timestamp);
                months = ['January','February','March','April','May','June','July','August','September','October','November','December'];
                var time = "" + timestr.getDate() + " " + months[timestr.getMonth()] + " " + timestr.getFullYear() + ", ";

                if(timestr.getHours() < 12){
                    time += timestr.getHours() + ":" +timestr.getMinutes() + ":" + timestr.getSeconds() + " AM";
                }
                else if(timestr.getHours() == 12){
                    time += timestr.getHours() + ":" +timestr.getMinutes() + ":" + timestr.getSeconds() + " PM";
                }
                if(timestr.getHours() > 12){
                    time += (timestr.getHours() - 12) + ":" +timestr.getMinutes() + ":" + timestr.getSeconds() + " PM";
                }
                    
                $("#time").append(time);
                
                
                cap = response["MarketCap"];
                if(cap / 1000000000 >= 0.005){
                    cap = Number(Math.round(cap / 1000000000+'e2')+'e-2') + " Billion";
                }
                else if(cap / 1000000 >= 0.05){
                    cap = Number(Math.round(cap / 1000000+'e2')+'e-2') + " Million";
                }                
                $("#cap").append(cap);
                $("#volume").append(response["Volume"]);
                
                orichangeytd = (response["LastPrice"] - response["ChangeYTD"]);
                changeytd = Number(Math.round((response["LastPrice"] - response["ChangeYTD"])+'e2')+'e-2');
                changepercentytd = Number(Math.round(response["ChangePercentYTD"]+'e2')+'e-2');
                $("#changeytd").append(changeytd + "(" + changepercentytd + "%" + ")");
                if(orichangeytd > 0){
                    $("#changeytd").addClass("green");
                    $("#changeytd").append("<img src='http://cs-server.usc.edu:45678/hw/hw8/images/up.png'>");
                }
                else if(orichangeytd < 0){
                    $("#changeytd").addClass("red");
                    $("#changeytd").append("<img src='http://cs-server.usc.edu:45678/hw/hw8/images/down.png'>");
                }
                
                
                $("#high").append(Number(Math.round(response["High"]+'e2')+'e-2'));
                $("#low").append(Number(Math.round(response["Low"]+'e2')+'e-2'));
                $("#openprice").append("$" + Number(Math.round(response["Open"]+'e2')+'e-2'));
            }
            
            function getDayChart(symbol){
                $("#daychart").empty();
                url = "http://chart.finance.yahoo.com/t?s="+symbol+"&lang=en-US&width=500&height=450"
                chart = "<img src='" + url +"' id='daychartimg'>"
                
                $("#daychart").append(chart);
            }
            
            $(function() {
                $("#symbol").autocomplete({
                  source: function( request, response ) {
                        $.ajax({
                          url: "http://zonghanchang571-env.us-west-2.elasticbeanstalk.com/?",
                          dataType: "json",
                          type: 'GET',
                          data: {
                            input: request.term
                          },
                          success: function(data) {
                            response( $.map(data, function(item) {
                            return {
                                label: item.Symbol + " - " + item.Name + " (" + item.Exchange + ")",
                                value: item.Symbol
                            }
                            }));
                          },
                        });
                  },
                  minLength: 1,
                  messages: {
                    noResults: '',
                    results: function() {}
                  },
                  open: function() {
                        $( this ).removeClass( "ui-corner-all" ).addClass( "ui-corner-top" );
                  },
                  close: function() {
                        $( this ).removeClass( "ui-corner-top" ).addClass( "ui-corner-all" );
                  }
                });
              });
            
            
            $(document).ready(function () {
                $("#myCarousel").carousel('pause');
                $("#carouselprev").click(function(){
                    $("#myCarousel").carousel('prev');
                    $("#myCarousel").carousel('pause');
                });
                $("#carouselnext").click(function(){
                    $("#myCarousel").carousel('next');
                    $("#myCarousel").carousel('pause');
                });
                
                
                
                
                $("#clear").click(function(){
                    $("#myCarousel").carousel(0);
                    $("#myCarousel").carousel('pause');
                    $('#invalid').empty();
                    $("#carouselnext").attr('disabled','true');
                });
                
                
                
                
                $("#getquote").click(function(){
                    var isValidForm = document.getElementsByTagName('form')[0];
                    if (isValidForm.checkValidity())
                    {
                        event.preventDefault();
                        var symbol = $('#symbol').val();
                        if(symbol != ""){
                            $.ajax({
                              url: "http://zonghanchang571-env.us-west-2.elasticbeanstalk.com/?",
                              dataType: "json",
                              type: 'GET',
                              data: {
                                input: symbol
                              },
                              success: function(response, status, xhr) {
                                if(response.length <= 0){
                                    if(!$('#invalid').text()){
                                        $('#invalid').append("Select a valid entry");
                                    }

                                }
                                else{

                                    getDetails($('#symbol').val());
                                }

                              }
                            });
                        }
                    }
                    
                    
                });
                
            })
            
            function removeFavorite(trashsymbol){
                $("#"+trashsymbol).parent().parent().remove();
                localStorage.removeItem(trashsymbol);
                if(trashsymbol == $("#symbolintable").text()){
                    $("#favoriteicon").removeClass("yellow");
                }
            }
            
        </script>
        
        
    </head>
    
    <body onload="favList()" style="background-color:rgb(29,84,125)">
        <div class="container">
            <div  style="background-color:rgb(255,255,255);border-radius:10px">
            <p class="text-center" style="font-weight:bold">Stock Market Search</p>
            <div class="container-fluid">
                <div class="row" id="row1">
                    <div class="col-md-3">
                        <label for="input">Enter the stock name of symbol</label><span style="color:red">*</span>
                    </div>
                    <form id="form">
                    <div class="col-md-6">
                        
                        <input type="text" class="form-control" required="required" name="symbol" id="symbol">
                        <p class="red" id="invalid"></p>
                    </div>
                    <div class="col-md-3">
                        <button type="submit" id="getquote" class="btn btn-primary"><span class="glyphicon glyphicon-search"></span>Get Quote</button>
                        <button type="reset" id="clear" type="button" class="btn btn-default"><span class="glyphicon glyphicon-refresh"></span>Clear</button>
                    </div>
                    </form>
                </div>
                
                    <div class="row">
                        <div class="col-md-offset-9 col-sm-offset-8 col-xs-offset-1">
                            <div class="pos"><label>Powered by:</label></div>
                            <div class="pos"><a href="http://dev.markitondemand.com/MODApis/" target="_blank" id="markiticon"><img src="images/mod-logo.png" style="height:20px;width:100px"></a></div>

                        </div>
                    </div>
                
            </div> 
            </div>
            <hr />
            
            <div  class="container-fluid" style="background-color:rgb(255,255,255);border-radius:10px">
            <div id="myCarousel" class="carousel slide" >
             
              <!-- Wrapper for slides -->
              <div class="carousel-inner" role="listbox">
                    <div class="item active">
                        <div class="panel panel-default">
                              <!-- panel contents -->
                              
                              <div class="panel-heading">
                                  <div class="row">
                                      <div class="col-md-2 col-sm-2 col-xs-6" style="font-weight:bold">
                                        Favorite List
                                      </div>
                                      <div class="col-lg-offset-9 col-md-offset-8 col-sm-offset-7 col-xs-offset-6">
                                          <label class="hidden-xs">
                                            Automatic Refresh:
                                          </label>

                                          <span data-toggle="tooltip" title="Autorefresh"><input id="autorefresh" type="checkbox" data-toggle="toggle" data-size="small"></span>
                                          <button class="btn btn-default" data-toggle="tooltip" title="Refresh" onclick="refresh()">
                                                <span class="glyphicon glyphicon-refresh"></span>
                                          </button>

                                          <button class="btn btn-default" href="#myCarousel" disabled role="button" data-toggle="tooltip" title="Stock Details" id="carouselnext">
                                                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true" ></span>
                                                <span class="sr-only">Next</span>
                                          </button>
                                        </div>
                                    </div>
                              </div>
                              
                                  
                              
                              
                              <!-- Table -->
                            
                              <table class="table">
                                  <tbody id="favoritelist">
                                      <tr>
                                          <td>Symbol</td>
                                          <td>Company Name</td>
                                          <td>Stock Price</td>
                                          <td>Change(Change Percent)</td>
                                          <td>Market Cap</td>
                                      </tr>
                                    
                                  </tbody>
                              </table>
                        </div>
                    </div>
                  
                    <div class="item">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <div class="row">
                                    <div class="col-md-1 col-sm-1 col-xs-1">
                                          <button class="btn btn-default" href="#myCarousel" role="button" id="carouselprev">
                                            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                                            <span class="sr-only">Previous</span>
                                          </button>
                                    </div>
                                    <div class="col-md-offset-4 col-sm-offset-4 col-xs-offset-4 col-md-2 col-sm-3 col-xs-6">
                                          <p class="panel-title" style="font-weight:bold">Stock Details</p>
                                    </div>
                                </div>                       
                            </div>
                                    
                        
                              <div class="panel-body">
                                 <ul id="myTab" class="nav nav-pills">
                                     <li class="active"><a href="#currentStock" data-toggle="tab"><span class="glyphicon glyphicon-dashboard"></span> <span class="hidden-xs">Current </span>Stock</a></li>
                                     <li><a href="#hisCharts" data-toggle="tab"><span class="glyphicon glyphicon-stats"></span> <span class="hidden-xs">Historical </span>Charts</a></li>
                                     <li><a href="#newsFeeds" data-toggle="tab"><span class="glyphicon glyphicon-link"></span> News<span class="hidden-xs"> Feeds</span></a></li>
                                 </ul>
                                <hr />
                                <div id="myTabContent" class="tab-content">
                                   <div class="tab-pane fade in active" id="currentStock">
                                       <div class="row">
                                            <div class="col-md-2 col-sm-2 col-xs-7">
                                                <label style="color:black;font-weight:bold;vertical-align: middle;">Stock Details</label>
                                            </div>
                                           <div class="col-lg-offset-10 col-md-offset-10 col-sm-offset-10 col-xs-offset-3">
                                                <div class="pos img-responsive none-gap">
                                                    <a href="javascript:shareFB()">
                                                        <img class="icon" src="fb_icon.jpg" />
                                                    </a>
                                                </div>

                                                <div class="pos img-responsive none-gap">
                                                    <button class="btn btn-default" id="favoritebutton" onclick="addFavorite()">
                                                        <span class="glyphicon glyphicon-star-empty" style="font-size:20px" id="favoriteicon"></span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                      <div class="row">
                                       <div class="col-md-6">
                                          <table class="table">
                                              
                                              <tbody>
                                              <tr>
                                                  <td style="font-weight:bold">Name</td>
                                                  <td id="name"></td>
                                              </tr>
                                              <tr>
                                                  <td style="font-weight:bold">Symbol</td>
                                                  <td id="symbolintable"></td>
                                              </tr>
                                              <tr>
                                                  <td style="font-weight:bold">Last Price</td>
                                                  <td id="lastprice"></td>
                                              </tr>
                                              <tr>
                                                  <td style="font-weight:bold">Change (Change Percent)</td>
                                                  <td id="change"></td>
                                              </tr>
                                              <tr>
                                                  <td style="font-weight:bold">Time and Date</td>
                                                  <td id="time"></td>
                                              </tr>
                                              <tr>
                                                  <td style="font-weight:bold">Market Cap</td>
                                                  <td id="cap"></td>
                                              </tr>
                                              <tr>
                                                  <td style="font-weight:bold">Volume</td>
                                                  <td id="volume"></td>
                                              </tr>
                                              <tr>
                                                  <td style="font-weight:bold">Change YTD (Change Percent YTD)</td>
                                                  <td id="changeytd"></td>
                                              </tr>
                                              <tr>
                                                  <td style="font-weight:bold">High Price</td>
                                                  <td id="high"></td>
                                              </tr>
                                              <tr>
                                                  <td style="font-weight:bold">Low Price</td>
                                                  <td id="low"></td>
                                              </tr>
                                              <tr>
                                                  <td style="font-weight:bold">Opening Price</td>
                                                  <td id="openprice"></td>
                                              </tr>
                                              </tbody>
                                           </table>
                                          </div>
                                          
                                          <div class="col-md-6" id="right">
                                              
                                                  
                                              
                                              
                                              <div id="daychart">
                                              
                                              </div>
                                          </div>
            
                                     </div>
                                   </div>
                                   <div class="tab-pane fade" id="hisCharts">
                                      <div id="highchart" style="height:400px;"></div>
                                       
                                       
                                   </div>
                                   <div class="tab-pane fade" id="newsFeeds">
                                      <div class="row">
                                       
                                       </div>
                                   </div>
                                
                              </div>
                        </div>
                            </div>
                  </div>

                    </div>
              </div>
                     
              
        </div>
        </div>
        
        
    </body>
</html>